{"ast":null,"code":"var _jsxFileName = \"/Users/hokait/Documents/myalloytakehomeprompt/react-crud-web-api/src/components/forecasts-list.component.js\";\nimport React, { Component } from \"react\";\nimport ForecastDataService from \"../services/forecast.service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class ForecastsList extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeSearchLocation = this.onChangeSearchLocation.bind(this);\n    this.getForecast = this.getForecast.bind(this);\n    this.retrieveForecasts = this.retrieveForecasts.bind(this);\n    this.saveForecast = this.saveForecast.bind(this);\n    this.removeAllSavedForecasts = this.removeAllSavedForecasts.bind(this);\n    this.state = {\n      forecasts: [],\n      savedforecasts: [],\n      actualLocation: \"London\",\n      searchLocation: \"London\"\n    };\n  }\n\n  componentDidMount() {\n    this.getForecast();\n    this.retrieveForecasts();\n  }\n\n  retrieveForecasts() {\n    ForecastDataService.getAll().then(response => {\n      this.setState({\n        savedforecasts: response.data\n      });\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  getForecast() {\n    const {\n      searchLocation\n    } = this.state;\n    var data = {\n      location: searchLocation\n    };\n    ForecastDataService.getForecast(data).then(response => {\n      var _response$data, _response$data$foreca, _response$data2, _response$data2$locat;\n\n      this.setState({\n        forecasts: response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : (_response$data$foreca = _response$data.forecast) === null || _response$data$foreca === void 0 ? void 0 : _response$data$foreca.forecastday,\n        actualLocation: response === null || response === void 0 ? void 0 : (_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : (_response$data2$locat = _response$data2.location) === null || _response$data2$locat === void 0 ? void 0 : _response$data2$locat.name\n      });\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  removeAllSavedForecasts() {\n    ForecastDataService.deleteAll().then(response => {\n      this.retrieveForecasts();\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  saveForecast(index) {\n    var data = {\n      location: this.state.actualLocation,\n      date: this.state.forecasts[index].date,\n      avgtemp: this.state.forecasts[index].day.avgtemp_f\n    };\n    ForecastDataService.create(data).then(response => {\n      this.retrieveForecasts();\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  onChangeSearchLocation(e) {\n    const searchLocation = e.target.value;\n    this.setState({\n      searchLocation: searchLocation\n    });\n  }\n\n  render() {\n    const {\n      savedforecasts,\n      forecasts,\n      searchLocation,\n      actualLocation\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"list row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"Get Forecast by location\",\n            value: searchLocation,\n            onChange: this.onChangeSearchLocation\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group-append\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-outline-secondary\",\n              type: \"button\",\n              onClick: this.getForecast,\n              children: \"Get Forecast List\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Forecasts List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-group\",\n          children: forecasts && forecasts.map((forecast, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"list-group-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"On \", actualLocation, \" This date \\\"\", forecast.date, \"\\\" will be\", \" \", forecast.day.avgtemp_f, \" \\xB0F on average\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-outline-primary\",\n              type: \"button\",\n              onClick: () => {\n                this.saveForecast(index);\n              },\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Saved Forecasts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-group\",\n          children: savedforecasts && savedforecasts.map((savedforecast, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"list-group-item\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"On \", savedforecast.location, \" This date \\\"\", savedforecast.date, \"\\\" will be \", savedforecast.avgtemp, \" \\xB0F on average\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 19\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"m-3 btn btn-sm btn-danger\",\n          onClick: this.removeAllSavedForecasts,\n          children: \"Remove All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"names":["React","Component","ForecastDataService","ForecastsList","constructor","props","onChangeSearchLocation","bind","getForecast","retrieveForecasts","saveForecast","removeAllSavedForecasts","state","forecasts","savedforecasts","actualLocation","searchLocation","componentDidMount","getAll","then","response","setState","data","catch","e","console","log","location","forecast","forecastday","name","deleteAll","index","date","avgtemp","day","avgtemp_f","create","target","value","render","map","savedforecast"],"sources":["/Users/hokait/Documents/myalloytakehomeprompt/react-crud-web-api/src/components/forecasts-list.component.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport ForecastDataService from \"../services/forecast.service\";\n\nexport default class ForecastsList extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeSearchLocation = this.onChangeSearchLocation.bind(this);\n    this.getForecast = this.getForecast.bind(this);\n    this.retrieveForecasts = this.retrieveForecasts.bind(this);\n    this.saveForecast = this.saveForecast.bind(this);\n    this.removeAllSavedForecasts = this.removeAllSavedForecasts.bind(this);\n    this.state = {\n      forecasts: [],\n      savedforecasts: [],\n      actualLocation: \"London\",\n      searchLocation: \"London\",\n    };\n  }\n\n  componentDidMount() {\n    this.getForecast();\n    this.retrieveForecasts();\n  }\n\n  retrieveForecasts() {\n    ForecastDataService.getAll()\n      .then((response) => {\n        this.setState({\n          savedforecasts: response.data,\n        });\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  }\n\n  getForecast() {\n    const { searchLocation } = this.state;\n    var data = {\n      location: searchLocation,\n    };\n\n    ForecastDataService.getForecast(data)\n      .then((response) => {\n        this.setState({\n          forecasts: response?.data?.forecast?.forecastday,\n          actualLocation: response?.data?.location?.name,\n        });\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  }\n\n  removeAllSavedForecasts() {\n    ForecastDataService.deleteAll()\n      .then((response) => {\n        this.retrieveForecasts();\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  }\n\n  saveForecast(index) {\n    var data = {\n      location: this.state.actualLocation,\n      date: this.state.forecasts[index].date,\n      avgtemp: this.state.forecasts[index].day.avgtemp_f,\n    };\n\n    ForecastDataService.create(data)\n      .then((response) => {\n        this.retrieveForecasts();\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  }\n\n  onChangeSearchLocation(e) {\n    const searchLocation = e.target.value;\n\n    this.setState({\n      searchLocation: searchLocation,\n    });\n  }\n\n  render() {\n    const { savedforecasts, forecasts, searchLocation, actualLocation } =\n      this.state;\n\n    return (\n      <div className=\"list row\">\n        <div className=\"col-md-8\">\n          <div className=\"input-group mb-3\">\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              placeholder=\"Get Forecast by location\"\n              value={searchLocation}\n              onChange={this.onChangeSearchLocation}\n            />\n            <div className=\"input-group-append\">\n              <button\n                className=\"btn btn-outline-secondary\"\n                type=\"button\"\n                onClick={this.getForecast}\n              >\n                Get Forecast List\n              </button>\n            </div>\n          </div>\n        </div>\n        <div className=\"col-md-6\">\n          <h4>Forecasts List</h4>\n          <ul className=\"list-group\">\n            {forecasts &&\n              forecasts.map((forecast, index) => (\n                <li className=\"list-group-item\" key={index}>\n                  <p>\n                    On {actualLocation} This date \"{forecast.date}\" will be{\" \"}\n                    {forecast.day.avgtemp_f} °F on average\n                  </p>\n                  <button\n                    className=\"btn btn-outline-primary\"\n                    type=\"button\"\n                    onClick={() => {\n                      this.saveForecast(index);\n                    }}\n                  >\n                    Save\n                  </button>\n                </li>\n              ))}\n          </ul>\n        </div>\n        <div className=\"col-md-6\">\n          <h4>Saved Forecasts</h4>\n          <ul className=\"list-group\">\n            {savedforecasts &&\n              savedforecasts.map((savedforecast, index) => (\n                <li className=\"list-group-item\" key={index}>\n                  <p>\n                    On {savedforecast.location} This date \"{savedforecast.date}\"\n                    will be {savedforecast.avgtemp} °F on average\n                  </p>\n                </li>\n              ))}\n          </ul>\n          <button\n            className=\"m-3 btn btn-sm btn-danger\"\n            onClick={this.removeAllSavedForecasts}\n          >\n            Remove All\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}